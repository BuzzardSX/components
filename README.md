# Change-событие

Если мы хотим понять по значению строки в value, относится ли элемент к типу number
(можем ли мы его привести к типу number),
то можем столкнуться с неоднозначностью. Например, если получим строку 'NaN'.

Это можно интерпретировать как "мы получили NaN: number" или "мы получили 'NaN' string"
Если выберем вариант с number, то остальные ключи могут всё-таки оказаться строками.
Если выберем вариант с string, то остальные ключи могут также оказаться числами.

При вводе пользователем данных для items, TS действительно может однозначно определить тип для всех keys.
Однако при касте строки, у нас нету связи с самим дженерик типом.

Точно такая же ситуация, если первым ключом окажется строка с числом.
Его можно интерпретировать как string, так и number.

Множество чисел как знаковое представление можно интерпретировать как подмножество всех строк.
Т. е., если пользователь решил использовать в качестве ключей number или string,
в каждом отдельном варианте, мы гарантировано получаем уникальные ключи
(за счёт правила ключей React и однонозначного определения типа в TS).
Таким образом, мы имеем возможность однозначного определения типа ключа через поиск нужной записи в items.
Это возможно за счёт неявого приведения в сравнении пары типов, где один является unknown/(any?)

Есть ли ещё какие-то нюансы?

Со поиском ключа для типа string проблем нет.
С поиском чисел проблем тоже, т. к. мы имеет простое отображение чисел в строки.
